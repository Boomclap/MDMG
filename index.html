<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健康管理App - 医患问卷指导系统</title>
    
    <!-- CSS 框架 -->
    <link href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" onerror="this.onerror=null;this.href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css'">
    
    <!-- 图标库 -->
    <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" onerror="this.onerror=null;this.href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css'">
    
    <!-- 字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Mermaid -->
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/mermaid/8.14.0/mermaid.min.js" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js'"></script>
    
    <style>
        * { 
            font-family: 'Noto Sans SC', Tahoma, Arial, Roboto, "Droid Sans", "Helvetica Neue", "Droid Sans Fallback", "Heiti SC", "Hiragino Sans GB", Simsun, sans-serif; 
        }
        
        .phone-frame {
            width: 375px;
            height: 812px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
            position: relative;
            margin: 0 auto;
        }
        
        .phone-screen {
            width: 100%;
            height: 100%;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
            background: #000;
        }
        
        .sync-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #4caf50, #45a049);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1000;
            animation: syncPulse 2s infinite;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        
        @keyframes syncPulse {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">
    
    
    <!-- 主容器 -->
    <div class="max-w-7xl mx-auto p-6">
        
        <!-- 标题区域 -->
        <div class="text-center mb-12 fade-in">
            <h1 class="text-4xl font-bold hero-gradient mb-4">
                用药管理小程序原型设计
            </h1>
        </div>
        
        <!-- 设计说明区域 -->
        <div class="glass-card rounded-3xl p-8 shadow-xl mb-12 fade-in">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">🎯</span>
                        目标用户
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 医护人员：高效处理问卷</li>
                        <li>• 慢性病患者：接收专业指导</li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3">💡</span>
                        核心痛点
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 问卷处理效率低</li>
                        <li>• 指导缺乏针对性</li>
                        <li>• 无法追溯指导来源</li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3">✨</span>
                        解决方案
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 消息驱动工作流</li>
                        <li>• 一体化查看界面</li>
                        <li>• 关联性展示设计</li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3">🚀</span>
                        主要亮点
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 一对一指导机制</li>
                        <li>• 模板化指导系统</li>
                        <li>• 双端实时同步</li>
                    </ul>
                </div>
            </div>
            
            <!-- 用户流程图 -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">🔄 核心用户流程</h3>
                <div class="mermaid">
                    graph TD
                        A[患者提交问卷] --> B[医生收到消息提醒]
                        B --> C[查看问卷回答+体检报告]
                        C --> D[选择模板编辑指导]
                        D --> E[发送健康指导]
                        E --> F[患者收到指导消息]
                        F --> G[查看指导+关联问卷]
                        G --> H[确认已了解]
                        H --> I[状态同步到医生端]
                        
                        style A fill:#e3f2fd
                        style E fill:#e8f5e8
                        style I fill:#f3e5f5
                </div>
            </div>
        </div>
        
        <!-- 双端展示区域 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start justify-center">
            
            <!-- 医生端 -->
            <div class="glass-card rounded-3xl p-8 shadow-2xl flex flex-col items-center fade-in">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                    <span class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white mr-3">
                        <i class="fas fa-user-md"></i>
                    </span>
                    医生端
                </h2>
                <div class="phone-frame">
                    <div class="phone-screen">
                        <iframe 
                            id="doctorFrame" 
                            src="doctor-main.html" 
                            width="100%" 
                            height="100%" 
                            frameborder="0"
                            style="border-radius: 32px;">
                        </iframe>
                    </div>
                </div>
            </div>
            
            <!-- 患者端 -->
            <div class="glass-card rounded-3xl p-8 shadow-2xl flex flex-col items-center fade-in">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                    <span class="w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white mr-3">
                        <i class="fas fa-user"></i>
                    </span>
                    患者端
                </h2>
                <div class="phone-frame">
                    <div class="phone-screen">
                        <iframe 
                            id="patientFrame" 
                            src="patient-interface.html" 
                            width="100%" 
                            height="100%" 
                            frameborder="0"
                            style="border-radius: 32px;">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // 初始化 Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#1976d2',
                primaryTextColor: '#333',
                primaryBorderColor: '#1976d2',
                lineColor: '#666',
                background: '#f8f9fa'
            }
        });
        
        // 监听iframe消息，实现双端同步
        window.addEventListener('message', function(event) {
            if (event.data.type === 'patientAction') {
                // 患者端操作，同步到医生端
                const doctorFrame = document.getElementById('doctorFrame');
                if (doctorFrame && doctorFrame.contentWindow) {
                    doctorFrame.contentWindow.postMessage({
                        type: 'updateFromPatient',
                        data: event.data.data
                    }, '*');
                }
            } else if (event.data.type === 'doctorAction') {
                // 医生端操作，同步到患者端
                const patientFrame = document.getElementById('patientFrame');
                if (patientFrame && patientFrame.contentWindow) {
                    patientFrame.contentWindow.postMessage({
                        type: 'updateFromDoctor',
                        data: event.data.data
                    }, '*');
                }
            }
        });
        
        // 页面加载动画
        window.addEventListener('load', function() {
            const elements = document.querySelectorAll('.fade-in');
            elements.forEach((element, index) => {
                setTimeout(() => {
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(30px)';
                    element.style.transition = 'all 0.8s ease-out';
                    
                    setTimeout(() => {
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
        });
    </script>
</body>
</html>
