<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健康管理双端原型 - 交互演示</title>
    <link href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" onerror="this.onerror=null;this.href='https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css'">
    <link href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-100-M/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" onerror="this.onerror=null;this.href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css'">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/mermaid/8.14.0/mermaid.min.js" onerror="this.onerror=null;this.src='https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js'"></script>
    
    <style>
        * { font-family: 'Noto Sans SC', Tahoma, Arial, Roboto, "Droid Sans", "Helvetica Neue", "Droid Sans Fallback", "Heiti SC", "Hiragino Sans GB", Simsun, sans-serif; }
        
        .phone-frame {
            width: 320px;
            height: 700px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 35px;
            padding: 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .phone-screen {
            width: 100%;
            height: 100%;
            border-radius: 27px;
            overflow: hidden;
            position: relative;
        }
        
        .sync-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #4caf50, #45a049);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            z-index: 1000;
            animation: syncPulse 2s infinite;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        
        @keyframes syncPulse {
            0%, 100% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    
    <!-- 数据同步指示器 -->
    <div class="sync-indicator">
        <i class="fas fa-sync-alt mr-2"></i>
        双端实时同步中
    </div>
    
    <!-- 主容器 -->
    <div class="max-w-7xl mx-auto p-6">
        
        <!-- 设计说明区域 -->
        <div class="bg-white rounded-3xl p-8 shadow-2xl mb-8">
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-4">
                    健康管理双端原型
                </h1>
                <p class="text-gray-600 text-lg">患者端与医生端实时交互演示</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3">🎯</span>
                        目标用户
                    </h3>
                    <p class="text-gray-600">慢性病患者、医疗机构管理人员、需要双端协作的健康管理场景</p>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3">💡</span>
                        核心痛点
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 患者与医生信息不同步</li>
                        <li>• 健康数据管理分散</li>
                        <li>• 缺乏实时交互反馈</li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-3 flex items-center">
                        <span class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3">✨</span>
                        解决方案
                    </h3>
                    <ul class="text-gray-600 space-y-1 text-sm">
                        <li>• 双端实时数据同步</li>
                        <li>• 统一的交互体验</li>
                        <li>• 可视化数据流转</li>
                    </ul>
                </div>
            </div>
            
            <!-- 用户流程图 -->
            <div class="mt-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 text-center">🔄 双端交互流程</h3>
                <div class="mermaid">
                    graph LR
                        A[患者操作] --> B[数据同步]
                        B --> C[医生端更新]
                        C --> D[状态反馈]
                        D --> E[患者端确认]
                        
                        F[医生查看] --> G[数据分析]
                        G --> H[患者端展示]
                        
                        style A fill:#e3f2fd
                        style C fill:#f3e5f5
                        style B fill:#e8f5e8
                </div>
            </div>
        </div>
        
        <!-- 双端展示区域 -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start justify-center">
            
            <!-- 患者端 -->
            <div class="bg-white rounded-3xl p-8 shadow-2xl flex flex-col items-center">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                    <span class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white mr-3">👤</span>
                    患者端
                </h2>
                <div class="phone-frame">
                    <div class="phone-screen">
                        <iframe 
                            id="patientFrame" 
                            src="patient-interface.html" 
                            width="100%" 
                            height="100%" 
                            frameborder="0"
                            style="border-radius: 27px;">
                        </iframe>
                    </div>
                </div>
            </div>
            
            <!-- 医生端 -->
            <div class="bg-white rounded-3xl p-8 shadow-2xl flex flex-col items-center">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center flex items-center justify-center">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white mr-3">👨‍⚕️</span>
                    医生端
                </h2>
                <div class="phone-frame">
                    <div class="phone-screen">
                        <iframe 
                            id="doctorFrame" 
                            src="doctor-interface.html" 
                            width="100%" 
                            height="100%" 
                            frameborder="0"
                            style="border-radius: 27px;">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // 初始化 Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#1976d2',
                primaryTextColor: '#333',
                primaryBorderColor: '#1976d2',
                lineColor: '#666'
            }
        });
        
        // 监听iframe消息
        window.addEventListener('message', function(event) {
            if (event.data.type === 'patientAction') {
                // 患者端操作，同步到医生端
                const doctorFrame = document.getElementById('doctorFrame');
                doctorFrame.contentWindow.postMessage({
                    type: 'updateFromPatient',
                    data: event.data.data
                }, '*');
            }
        });
    </script>
</body>
</html>
